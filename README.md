### Домашнее задание к занятию "12.3 Развертывание кластера на собственных серверах, лекция 1"

>Задание 1: Описать требования к кластеру

>Сначала проекту необходимо определить требуемые ресурсы. Известно, что проекту нужны база данных, система кеширования, а >само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:
> * База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
> * Кэш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
> * Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий.
> * Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.

**Ответ:**

_Исходные данные:_

Наименование | ОЗУ	 | CPU | Копии | 
------ | ------ | ------ | ------ |
 База данных |  4 Gb |  1 |  3 | 
 Кэш |  4 Gb | 1 | 3 | 3 |
 Фронтенд |  0,05 Gb | 0.2 |  5 |
 Бэкенд |  0,6 Gb | 1 | 10 |

HDD:
    База данных - 20 ГБ
    Кэш - 20 ГБ
    Фронтенд - 1 ГБ
    Бэкенд - 3 ГБ

_Дисковые ресурсы:_

Наименование | На одну ноду	 | Число нод | Всего | Коэф резервирования | Итого
------ | ------ | ------ | ------ | ------ | ------
| БД |       20 |    3|     60 |  1,5 |  90|  
|Кэш |      20 |     3|     60 |  1,5 |  90|
| Фронтенд| 1 |     5|      5 |  1,5 |  7,5|
| Бэкенд |  3 |     10|     30 |  1,5 |  45|

**Итого:** ``232,5 Gb``

_Ядра CPU_
Наименование | На одну ноду	 | Число нод | Всего | Коэф резервирования | Итого
------ | ------ | ------ | ------ | ------ | ------
| БД        |  8 |   3|      24 |  1,5 |  36|  
|Кэш        | 1 |    3|      3 |  1,5 |  4,5|
| Фронтенд  | 1 |    5|      5 |  1,5 |  7,5|
| Бэкенд    | 1 |    10|    10 |  1,5 |  15|

**Итого:** ``63``

_RAM (ОЗУ)_
Наименование | На одну ноду	 | Число нод | Всего | Коэф резервирования | Итого
------ | ------ | ------ | ------ | ------ | ------
| БД        |  4 |  3|      12 |  1,5 |  18|  
|Кэш        | 4 |    3|      12 |  1,5 |  18|
| Фронтенд  | 0,05 | 5|     0,25 |  1,5 |  0,375|
| Бэкенд    | 0,6 | 10|     6 |  1,5 |  9|

**Итого:** ``45,375 Gb``

_Расчет общесистемных параметров_

Наименование | На одну ноду	 | Число нод | Всего |
------ | ------ | ------ | ------ |
|  Master node    |   100     |   3     |     300   |
| Worker node     | 100   | 3       |  300      |
|  ОС    |  10      |   1     | 10       |
|  Centralized monitoring    |  20     |    1    |  20      |
|  Centralized logging       |   10     |    1    |   10     |

**Всего:** ``640``

_Ядра CPU_

Наименование | На одну ноду	 | Число нод | Всего |
------ | ------ | ------ | ------ |
|  Master node    |   2     |   3     |     6   |
| Worker node     | 1   | 3       |  3      |
|  ОС    |  1      |   1     | 1       |
|  Centralized monitoring    |  2     |    1    |  2     |
|  Centralized logging       |   2     |    1    |   2     |

**Всего:** ``14``


_RAM (ОЗУ)_

Наименование | На одну ноду	 | Число нод | Всего |
------ | ------ | ------ | ------ |
|  Master node    |   2     |   3     |     6   |
| Worker node     | 1   | 3       |  3      |
|  ОС    |  1      |   1     | 1       |
|  Centralized monitoring    |  5     |    1    |  5     |
|  Centralized logging       |   11     |    1    |   11     |

**Всего:** ``26``

**ИТОГО:**
Для работы кластера, округлим до целых значений:

RAM: 80 Gb

CPU: 96

HDD: 2Tb 
